---
title: "Predicting Housing Sales"
subtitle: "Team Jai Ho Midterm"
author: "Jack Bader, Joey Cahill, Matthew Levy, Sam Sen, Tim Wen, Ye Zhang"
date: "October 26, 2025"
format: 
  revealjs:
    theme: simple
    slide-number: true
    chalkboard: true
    code-line-numbers: true
    incremental: false
    smaller: true
    scrollable: true
---

## Project Intention

### **Why it Matters**
Philadelphia’s current Automated Valuation Model (AVM) is underperforming, leading to inconsistent and inequitable property assessments.

### **Our Guiding Question**

What key predictors are missing from the legacy model, and how can we improve its accuracy and fairness?

---

## Data Sources

- **City of Philadelphia**
  - Philadelphia Properties and Current Assessments (n=21,807 home prices)

- **OpenDataPhilly**
  - Neighborhood Boundaries (Polygon)
  - School Locations, Attendance, and Withdrawals

- **Geofabrik (OpenStreetMap)**
  - Commercial and Economic Activity Points

- **U.S. Census (ACS 5-Year)**
  - Education
  - Vacancy Rates
  - Family Household Share
  - Percent White
  - Median Household Income


---

## Overview of the Philadelphia Home Market
:::: columns
::: column
![Home Price Across the City](median_price_map.png){width=100%}
:::

::: column
### **Key Findings**
- Prices cluster spatially
- Center City & Northwest Philly see highest home values
- Addition hotspots in South Philadelphia
:::
::::
---

## Price Drivers

- Economic Density
- Livable Space
- Bedrooms v Bathrooms
- Building Age
![Sale by Age](homeSaleAge.jpeg)

---

## Stepwise Modeling Strategy

1. **Model 1:** Structural features only {style="color: red;"} 
2. **Model 2:** + Census tract demographics {style="color: orange;"}
3. **Model 3:** + Spatial features (KDE, proximity) {style="color: blue;"} 
4. **Model 4:** + Interactions and neighborhood effects {style="color: green;"}

**Goal:** Test whether place-based factors improve predictive accuracy.

$$
\begin{aligned}
\log(\text{Price}) = \beta_0 &+ \color{red}{\beta_1 \log(\text{Livable Area}) + \beta_2 \text{Bedrooms} + \beta_3 \text{Bathrooms}} \\
&+ \color{red}{\beta_4 \text{Age} + \beta_5 \text{Interior Condition} + \beta_6 \text{Quality Grade}} \\
&+ \color{orange}{\beta_7 \text{Median Income} + \beta_8 \text{Family HH Ratio} + \beta_9 \text{% Bachelors}} \\
&+ \color{orange}{\beta_{10} \text{% Vacant} + \beta_{11} \text{% White}} \\
&+ \color{blue}{\beta_{12} \text{EconKDE} + \beta_{13} \text{EconKDE}^2 + \beta_{14} \text{TreeKDE} + \beta_{15} \text{Mean 3NN Dist}} \\
&+ \color{green}{\beta_{16} \text{MHI Quantile} + \beta_{17} (\text{MHI Quantile} \times \text{Age})} + \varepsilon
\end{aligned}
$$


---

---

## Model Performance Improves at Each Stage

| Model | Adj. R² | Interpretation |
|--------|---------|----------------|
| (1) Structural | 0.38 | House features alone are not enough |
| (2) + Census | 0.60 | Neighborhood socioeconomic patterns matter |
| (3) + Spatial | 0.61 | Location and amenities add signal |
| (4) + Interactions | 0.64 | Wealthy areas shape how homes retain value |

**Takeaway:** Spatial + neighborhood effects are essential to explaining price variation in Philadelphia.

---

## Hardest Neighborhoods to Predict

:::: columns
::: column
![Problem Neighborhoods](residual_map.png){width=100%}
:::

::: column
### **Key Insight**
- The model struggles most in **high-value, high-amenity neighborhoods**
- **Under-predicted (red):** Center City, pockets of Northwest and South Philly
  → Homes sell for **more than the model expects**
- **Over-predicted (blue):** Underserved neighborhoods  
  → Homes sell for **less than predicted**
- **Why?** Prestige, walkability, and rapid growth of interest are **not fully captured** by structural data or census metrics
:::
::::


---

## Key Findings

**Model Accuracy:**  
RMSE = 0.479 · **R²:** 0.64 (CV: 0.65)

**Top Predictors**

- **Economic Density (U-shaped):** strongest spatial effect
- **Home Size:** ~0.5% ↑ price per 1% ↑ area
- **Bathrooms:** major value premium
- **Neighborhood Composition:** education (+), vacancy (–)

**Takeaway:**  
Location amplifies value — *spatial patterns matter as much as structure.*

---

## Recommendations

**Improve the City’s AVM by Incorporating:**
- **Amenity-based spatial features** (EconKDE, trees, school access)
- **Neighborhood context variables** to capture local market conditions

**Policy Implications**

- Current AVM likely **undervalues booming neighborhoods** near economic hubs
- **Affluent areas remain hardest to predict** due to prestige and perception effects
- Add monitoring for **rapidly changing neighborhoods (e.g., Fishtown)**

**Bottom Line:**  
To reduce inequity and improve accuracy, the AVM must move beyond structure-only predictors and account for **context, amenities, and spatial clustering.**


---

## Limitations & Next Steps

**Key Limitations**

- The model cannot quantify *word-of-mouth effects*  
  → Perceived “vibe shifts” can rapidly change prices
- Future plans are not incorporated  
  → Planned infrastructure can greatly alter market outcomes

**Where Do We Go From Here?**

- Build an enhanced model that includes:  
  → Amenity proximity  
  → Economic development indicators  
  → Spatial clustering of sale prices
  
- Continue data collection to track a changing housing landscape
- Consult with local government on new projects and emerging trends

---

## Questions?

- Thank you!

:::: {.columns}

Contact Information:

::: {.column width="50%"}
- Jack Bader
  - jbader14@upenn.edu
- Matthew Levy
  - mblevy@upenn.edu
- Tim Wen
  - sw6as@upenn.edu

:::
 
::: {.column width="50%"}
- Joey Cahill
  - cahill1@upenn.edu
- Sam Sen
  - sen1@upenn.edu
- Ye Zhang
  - yezhang1@upenn.edu

:::

::::
